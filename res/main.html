<!DOCTYPE html>
<!--
#
# CherryMusic - a standalone music server
# Copyright (c) 2012 Tom Wallroth & Tilman Boerner
#
# Project page:
#   http://fomori.org/cherrymusic/
# Sources on github:
#   http://github.com/devsnd/cherrymusic/
#
# CherryMusic is based on
#   jPlayer (GPL/MIT license) http://www.jplayer.org/
#   CherryPy (BSD license) http://www.cherrypy.org/
#
# licensed under GNU GPL version 3 (or later)
#
# This program is free software: you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation, either version 3 of the License, or
# (at your option) any later version.
#
# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU General Public License for more details.
#
# You should have received a copy of the GNU General Public License
# along with this program.  If not, see <http://www.gnu.org/licenses/>
#
-->
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="icon" href="/res/favicon32.png" type="image/png">
<meta content='width=device-width; initial-scale=1.0; maximum-scale=1.0; user-scalable=0;' name='viewport' />
<link href="theme/jplayer/jplayer.css?nocache" rel="stylesheet" type="text/css" />
<link href="res/layout.css?nocache" rel="stylesheet" type="text/css" />
<link media="only screen and (max-device-width: 480px) and (min-device-width: 320px)" href="res/mobilelayout.css?nocache" type="text/css" rel="stylesheet" /> 
<link href="theme/style.css?nocache" rel="stylesheet" type="text/css" />
<link href="api/customcss.css?nocache" rel="stylesheet" type="text/css" />
<link rel="search" href="api/opensearchdescription" type="application/opensearchdescription+xml" title="CherryMusic" />
<script type="text/javascript" src="res/js/jquery-1.8.3.min.js"></script>
<script type="text/javascript" src="res/js/json2.min.js"></script>
<script type="text/javascript" src="res/js/jquery.jplayer.js"></script>
<script type="text/javascript" src="res/js/jplayer.playlist.js"></script>
<script type="text/javascript" src="res/js/jquery.jplayer.inspector.js"></script>
<script type="text/javascript" src="res/js/mustache-0.7.0.js"></script>
<script type="text/javascript" src="res/js/jquery-color.js"></script>
<script type="text/javascript" src="res/js/jquery-ui-1.8.23.custom.min.js"></script>
<script type="text/javascript" src="res/playlistmanager.js"></script>
<script type="text/javascript" src="res/cherrymusic.js"></script>
<title>CherryMusic</title>
</head>
<body>
<!-- PROGRESS SCREEN OVERLAY START -->
<div id="progressscreen"></div>
<!-- USER OPTIONS -->
<div id="useroptions">
        <div>
                <div class="content">
                    <h2>Custom colors and style</h2>
                        Use white fonts on dark background
                        <input id="custom_theme-white_on_black" type="checkbox" value="true" name="custom_theme.white_on_black"
                        onchange="api({action:'setuseroption', value:JSON.stringify({ 'optionkey':'custom_theme.white_on_black' , 'optionval':$(this).attr('checked')=='checked' }) },reloadStylesheets,function(){})"><br>
                        
                        Primary color
                        <input id="custom_theme-primary_color" value="#F02E75"
                        onkeyup="optionSetter('custom_theme.primary_color',$(this).val(),reloadStylesheets,function(){})();">
                        <a class="button" onclick="optionSetter('custom_theme.primary_color','#F02E75',reloadStylesheets,function(){})();">reset</a><br>
                    
                    <h2>keyboard shortcuts</h2>
                    
                    <table>
                        <tr>
                            <td>next track</td>
                            <td><input class="keyboard_key" disabled="disabled" id="keyboard_shortcuts-next" value="66" name="keyboard_shortcuts.next"></td>
                            <td><a class="button" onclick="keyboard_shortcut_setter('keyboard_shortcuts.next','Next Track')">change</a></td>
                        </tr>
                        
                        <tr>
                            <td>stop</td>
                            <td><input class="keyboard_key" disabled="disabled" id="keyboard_shortcuts-stop" value="86" name="keyboard_shortcuts.stop"></td>
                            <td><a class="button" onclick="keyboard_shortcut_setter('keyboard_shortcuts.stop','Stop')">change</a></td>
                        </tr>
                        
                        <tr>
                            <td>previous track</td>
                            <td><input class="keyboard_key" disabled="disabled" value="89"  id="keyboard_shortcuts-prev" name="keyboard_shortcuts.prev"></td>
                            <td><a class="button" onclick="keyboard_shortcut_setter('keyboard_shortcuts.prev','Previous Track')">change</a></td>
                        </tr>
                        
                        <tr>
                            <td>pause</td>
                            <td>
                                <input class="keyboard_key" disabled="disabled" value="67"  id="keyboard_shortcuts-pause" name="keyboard_shortcuts.pause">
                                <input class="keyboard_key_long" disabled="disabled" value="space">
                            </td>
                            <td><a class="button" onclick="keyboard_shortcut_setter('keyboard_shortcuts.pause','Pause')">change</a></td>
                        </tr>
                        
                        <tr>
                            <td>play</td>
                            <td><input class="keyboard_key" disabled="disabled" value="88" id="keyboard_shortcuts-play" name="keyboard_shortcuts.play"></td>
                            <td><a class="button" onclick="keyboard_shortcut_setter('keyboard_shortcuts.play','Play')">change</a></td>
                        </tr>
                        
                        <tr>
                            <td>search</td>
                            <td><input class="keyboard_key" disabled="disabled" value="83"  id="keyboard_shortcuts-search" name="keyboard_shortcuts.search"></td>
                            <td><a class="button" onclick="keyboard_shortcut_setter('keyboard_shortcuts.search','Use Search')">change</a></td>
                        </tr>
                    </table>
                        <div id="shortcut-changer" style="display:none;">
                            <span></span>
                            <input value="" onkeyup="" />
                        </div>
                    
                </div>
                <a onclick="$('#useroptions').fadeOut()" class="button">close</a>
        </div>
</div>
<!-- USER OPTIONS END-->
<!-- PROGRESS SCREEN OVERLAY END -->
<!-- PLAYLIST SAVE DIALOG OVERLAY START -->
<div id="dialog" style="display: none">
    <p>Please enter a Name for this Playlist:</p>
    <input type="text" id="playlisttitle" />
    public:<input type="checkbox" checked="checked" id="playlistpublic" />
    <a href="javascript:;" onclick="savePlaylistAndHideDialog()">Save</a>
    <a href="javascript:;" onclick="$('#dialog').fadeOut('fast')">Close</a>
</div>
<!-- PLAYLIST SAVE DIALOG OVERLAY END -->
<ul class="tabNavigation">
    <li><a class="search"  href="#search">Search</a></li>
    <li><a class="jplayer" href="#jplayer">Playlist</a></li>
</ul>
<!-- JPLAYER START -->
        <div id="mediawrapper">
            <div id="mediaplayer">
            <!-- ADMIN PANEL START -->
                <div id="adminpanelwrapper">
                    <div class="smalltab" id="toggle-admin-panel-button">
                        <a href="javascript:;" onclick="toggleAdminPanel()">admin</a>
                    </div>
                    <div class="smalltab">
                        <a href="javascript:;" onclick="loadAndShowUserOptions()">options</a>
                    </div>
                    <div class="smalltab floatright">
                        <a href="javascript:;" onclick="logout()">logout</a>
                    </div>
                    <div id="adminpanel" style="display: none;">
                        <br>
                        <a href="javascript:;" onclick="$('#jplayer_inspector').jPlayerInspector({jPlayer:$('#jquery_jplayer_1')});" class="button">
                        Enable JPlayer Inspector
                        </a>
                        <br>
                        <br>
                        <a href="javascript:;" onclick="updateLibrary()" class="button">
                        Update Music Library (may take some time!)
                        </a>
                        <br>
                        <br>
                        Create new user:<br>
                        Username:<input type="text" id="newusername" /><br>
                        Password:<input type="password" id="newpassword" />
                        is Admin:<input type="checkbox" id="newisadmin" />
                        <a href="javascript:;" onclick="addNewUser()" class="button">Add User</a><br>
                        <ul id="adminuserlist">
                        </ul>
                        
                    </div>
                </div>
            <!-- ADMIN PANEL END -->
            <div id="jquery_jplayer_1" class="jp-jplayer"></div>
                <div id="jp_ancestor" class="jp-audio">
                    <div class="jp-type-playlist">
                        <div class="jp-gui jp-interface">
                            <div class="jp-center-progress-bar">
                                <div class="jp-progress">
                                    <div class="jp-seek-bar">
                                            <div class="jp-play-bar"></div>
                                    </div>
                                </div>
                                <div class="jp-time-holder">
                                    <div class="jp-current-time"></div>
                                    <div class="jp-duration"></div>
                                </div>
                            </div>
                            
                            <ul class="jp-controls">
                                <li><a href="javascript:;" class="jp-previous" tabindex="1">previous</a></li>
                                <li><a href="javascript:;" class="jp-play" tabindex="1">play</a></li>
                                <li><a href="javascript:;" class="jp-pause" tabindex="1">pause</a></li>
                                <li><a href="javascript:;" class="jp-next" tabindex="1">next</a></li>
                                <li><a href="javascript:;" class="jp-stop" tabindex="1">stop</a></li>
                                <li><a href="javascript:;" class="jp-mute" tabindex="1" title="mute">mute</a></li>
                                <li><a href="javascript:;" class="jp-unmute" tabindex="1" title="unmute">unmute</a></li>
                                <li><a href="javascript:;" class="jp-volume-max" tabindex="1" title="max volume">max volume</a></li>
                            </ul>
                            <div class="cm-songtitle"></div>
                            <div class="cm-playlistplaytime"></div>
                            
                            <div class="jp-volume-bar">
                                <div class="jp-volume-bar-value"></div>
                            </div>
                            
                            <ul class="jp-toggles">
                                <li><a href="javascript:;" class="jp-shuffle" tabindex="1" title="shuffle">shuffle</a></li>
                                <li><a href="javascript:;" class="jp-shuffle-off" tabindex="1" title="shuffle off">shuffle off</a></li>
                                <li><a href="javascript:;" class="jp-repeat" tabindex="1" title="repeat">repeat</a></li>
                                <li><a href="javascript:;" class="jp-repeat-off" tabindex="1" title="repeat off">repeat off</a></li>
                            </ul>
                        </div>
                        <!-- <div class="jp-no-solution">
                                <span>Update Required</span>
                                To play the media you will need to either update your browser to a recent version or update your <a href="http://get.adobe.com/flashplayer/" target="_blank">Flash p$
                        </div> -->
                    </div>
                </div>
            </div>
	</div>
    <!-- JPLAYER END -->

<a id="errormessage" href="#" title="click to dismiss" onclick="$(this).html('')"></a>
<!-- TABS START -->
<div class="tabs">
    <div>
        <!--SEARCH TAB START -->
        <div id="search">
            <div id="searchfield">
                <span id="oneliner"></span>
                <form id="searchform" onsubmit="return submitsearch()">
                <input class="searchinput" type="text" />
                <div class="bigbutton">search</div>
                <a class="black" href="#" onclick="loadBrowser()">browse instead</a>
                </form>
            </div>
            <div id="searchresults"></div>
        </div>
        <!--SEARCH TAB END -->
    </div>
    <div>
        <!-- PLAYLIST TAB START -->
        <div id="jplayer">
        
            
            <!--<div class="smalltab floatright">
                <a href="javascript:;" onclick="clearPlaylist()">Clear Playlist</a>
            </div>
            <div class="smalltab floatright">
                <a href="javascript:;" onclick="removePlayedFromPlaylist()">Remove played tracks</a>
            </div>
            -->
            
            <div id="over-playlist-tabs">
                <div id="playlistChooser"><ul></ul></div>
                <div id="addPlaylist"><ul><li class="bigtab"><a href="#" onclick="showPlaylistBrowser()"><b>+</b></a></li></ul></div>
            </div>
            <div id="playlistCommands"></div>
            <div id="playlistContainerParent"></div>
            <div id="playlistBrowser">
                <a href="#" class="button center" style="width:150px" onclick="playlistManager.newPlaylist()">create new playlist</a>
                <span class="center helptext" style="width: 100px">or load a playlist from the list below</span>
                <div class="available-playlists" style="display: none">
                </div>        
            </div>
        </div>
        <!-- PLAYLIST TAB END -->
    </div>
</div>
<!-- TABS END -->
<div id="jplayer_inspector"></div>
</body>
</html>
